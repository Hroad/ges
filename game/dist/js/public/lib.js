!function(t){for(var i=0,e=["webkit","moz"],n=0,s=e.length;n<s&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[e[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[e[n]+"CancelAnimationFrame"]||t[e[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(e,n){var s=(new Date).getTime(),o=Math.max(0,16.7-(s-i)),a=t.setTimeout(function(){e(s+o)},o);return i=s+o,a}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}(window),function(t){function i(t,i,e,n){this.dis=t||0,this.loop=i||0,this.count=0,this.callbackfun=e||null,this.tid=null,this.pretime=0,this.ispause=!1,this.param=n||null}i.prototype.start=function(){null!=this.callbackfun?this.loop<0||this.dis<0?this.errors("请输入正确数值"):(this.pretime=(new Date).getTime(),this.ispause=!1,this.processing()):this.errors("回调函数不能为空")},i.prototype.processing=function(){var t=this;if(this.loop>0&&this.count==this.loop)this.stop();else if(1!=this.ispause){if(this.dis>16.7){var i=(new Date).getTime();i-this.pretime>this.dis&&(this.count++,this.callbackfun(this.count,this.param),this.pretime=i)}else this.count++,this.callbackfun(this.count,this.param);this.tid=window.requestAnimationFrame(function(){t.processing()})}},i.prototype.stop=function(){null!=this.tid&&(this.ispause=!0,window.cancelAnimationFrame(this.tid),this.count=0,this.tid=null)},i.prototype.pause=function(){null!=this.tid&&(this.ispause=!0,window.cancelAnimationFrame(this.tid),this.tid=null)},i.prototype.errors=function(t){throw new Error(t)},t.Timer=i}("undefined"!=typeof window?window:this);var Load51=function(t,i,e){this.Version="Load51_v3.0",this._isAutoLoad=void 0===t||t,this._isReady=!1,this._isLoaded=!1,this._num=0,this._targetNum=.82,this._progressTime=null,this._loading=document.querySelector(".loading"),this._progress=document.querySelector(".progress"),this._progressNum=document.querySelector(".progress-num"),this._readyCb=i||null,this._completeCb=e||null,this._onDomReady=this._readyHandler.bind(this),this._onWindowLoad=this._loadHandler.bind(this),this.init()};Load51.prototype={constructor:"Load51",init:function(){this._isAutoLoad&&(this._addReadyEvent(),this._addLoadEvent()),this._changeView()},_ready:function(){this._num<=this._targetNum&&(this._num+=.01,this._progress.style.webkitTransform="scaleX("+this._num+")",this._progressNum.innerHTML=Math.round(100*this._num)+"%")},_load:function(){this._num+=.05,this._num>=1&&(this._removeReadyEvent(),this._removeLoadEvent(),this._removeTimer(this._progressTime),this._loading.style.display="none","function"==typeof this._completeCb&&this._completeCb()),this._progress.style.webkitTransform="scaleX("+(this._num>1?1:this._num)+")",this._progressNum.innerHTML=(Math.round(100*this._num)>100?100:Math.round(100*this._num))+"%"},onReadyStart:function(t){this._readyCb=t||this._readyCb,this._isAutoLoad?this._isReady&&console.warn("DOMContentLoaded has already done it,if you need to manually call, please set the isAutoLoad to false"):this._readyHandler()},onComplete:function(t){this._completeCb=t||this._completeCb,this._isAutoLoad?this._isLoaded&&console.warn("The load event has been executed,if you need to manually call, please set the isAutoLoad to false"):this._loadHandler()},_readyHandler:function(){this._isReady=!0,"function"==typeof this._readyCb&&this._readyCb()},_loadHandler:function(){this._isLoaded=!0},_changeView:function(){var t=this;this._progressTime=new Timer(100,0,function(){t._isLoaded?t._load():t._isReady&&t._ready()}),this._progressTime.start()},_removeTimer:function(t){t.stop(),t=null},_addReadyEvent:function(){document.addEventListener("DOMContentLoaded",this._onDomReady,!1)},_addLoadEvent:function(){window.addEventListener("load",this._onWindowLoad,!1)},_removeReadyEvent:function(){document.removeEventListener("DOMContentLoaded",this._onDomReady,!1)},_removeLoadEvent:function(){window.removeEventListener("load",this._onWindowLoad,!1)},pause:function(){this._progressTime.pause()},start:function(){this._progressTime.start()}};